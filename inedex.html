<!--we are going to serve our html file form the backend-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Todo App</title>
</head>
<script>
// now this is client side JavaScript code 
//using this block of js we write logic



//to take get request from frontend
function todosCallback(data)
{
    console.log(data);
}

function callabck2(response)
{
    response.json().then(todosCallback);
}
function getData()
{
    fetch("http://localhost:3000/todos", {
    method: "GET",
    }).then(callback2)
        
}
getData();



function parsedResponse(data) 
{
    console.log(data);
}
function callback(response) 
{
    response.json().then(parsedResponse);
}
function onPress() 
{
    //creating alert while clicking
    alert("welcome to this page");

    //fetching the data entere on webpage /html file and performing task using that data on backend
    //.value will give us the data inside the block
    var title = document.getElementById("title").value;
    var description = document.getElementById("description").value;


    //this will get printed on yhe console of the website
    console.log(title);

    // in last tutorial we have learned about the fetch variable
    // which helps to communicate btw servers
    fetch("http://localhost:3000/todos",
    {
        method:"POST",
        body: JSON.stringify
        ({
            title:"title",
            description:"description"

        }),
        headers:
        {
            "Content-Type": "application/json"
        }
    }).then(callback);
    // now using the fetch function our HTML code will be able to communicate the backend code running on the server
}
</script>
<!--now this part of html is basically dom -> which consist of a medium where a user can store data/enter data-->
<body>
   Todo title 
   <input type="text" id="title"></input>
   <br><br>
   
   Todo description
   <input type="text" id="description"></input>
   <br><br>

   <button onclick="onPress()">send todo</button>

   <div id="mainArea">
    hi there
   </div>

</body>
</html>
